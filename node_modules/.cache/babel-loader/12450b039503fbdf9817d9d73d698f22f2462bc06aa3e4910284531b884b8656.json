{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport const useProducts = query => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [page, setPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  useEffect(() => {\n    const fetchProducts = async () => {\n      const url = query ? `https://dummyjson.com/products/search?q=${query}&limit=20` : `https://dummyjson.com/products?limit=20&skip=${(page - 1) * 20}`;\n      const {\n        data\n      } = await axios.get(url);\n      setProducts(prev => query ? data.products : [...prev, ...data.products]);\n      setHasMore(data.products.length > 0);\n    };\n    fetchProducts();\n  }, [page, query]);\n  return {\n    products,\n    setPage,\n    hasMore\n  };\n};\n_s(useProducts, \"5B8mmLri3mS4/c0hozXw6VU/Qaw=\");","map":{"version":3,"names":["useState","useEffect","axios","useProducts","query","_s","products","setProducts","page","setPage","hasMore","setHasMore","fetchProducts","url","data","get","prev","length"],"sources":["C:/Users/84394/Desktop/NguyenTheKhai_Intern/infinite-scroll-ts/src/hooks/useProducts.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\ninterface Product {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  thumbnail: string;\r\n}\r\n\r\nexport const useProducts = (query: string) => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      const url = query\r\n        ? `https://dummyjson.com/products/search?q=${query}&limit=20`\r\n        : `https://dummyjson.com/products?limit=20&skip=${(page - 1) * 20}`;\r\n      const { data } = await axios.get(url);\r\n      setProducts((prev) =>\r\n        query ? data.products : [...prev, ...data.products]\r\n      );\r\n      setHasMore(data.products.length > 0);\r\n    };\r\n\r\n    fetchProducts();\r\n  }, [page, query]);\r\n\r\n  return { products, setPage, hasMore };\r\n};\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AASzB,OAAO,MAAMC,WAAW,GAAIC,KAAa,IAAK;EAAAC,EAAA;EAC5C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAY,EAAE,CAAC;EACvD,MAAM,CAACQ,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMW,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,MAAMC,GAAG,GAAGT,KAAK,GACb,2CAA2CA,KAAK,WAAW,GAC3D,gDAAgD,CAACI,IAAI,GAAG,CAAC,IAAI,EAAE,EAAE;MACrE,MAAM;QAAEM;MAAK,CAAC,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAACF,GAAG,CAAC;MACrCN,WAAW,CAAES,IAAI,IACfZ,KAAK,GAAGU,IAAI,CAACR,QAAQ,GAAG,CAAC,GAAGU,IAAI,EAAE,GAAGF,IAAI,CAACR,QAAQ,CACpD,CAAC;MACDK,UAAU,CAACG,IAAI,CAACR,QAAQ,CAACW,MAAM,GAAG,CAAC,CAAC;IACtC,CAAC;IAEDL,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACJ,IAAI,EAAEJ,KAAK,CAAC,CAAC;EAEjB,OAAO;IAAEE,QAAQ;IAAEG,OAAO;IAAEC;EAAQ,CAAC;AACvC,CAAC;AAACL,EAAA,CArBWF,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}